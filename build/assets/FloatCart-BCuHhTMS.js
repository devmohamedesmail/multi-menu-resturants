import{u as h,K as m,b as j,j as e,i as f,f as b,h as g,r as y,$ as N,S as w}from"./app-BUS-dX_O.js";import{G as d,c as v}from"./index-CRW9yDGm.js";import{u as p}from"./useTranslation-CeuNbFpE.js";function z(t){return d({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"},child:[]}]})(t)}function _(t){return d({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"},child:[]}]})(t)}function F(t){return d({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"},child:[]}]})(t)}function k(t){return d({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function C({item:t}){const{t:n,i18n:r}=p(),l=h(),{app_settings:c}=m().props;j(s=>s.cart.meals);const x=s=>{l(f(s))},u=s=>{l(b(s))},i=s=>{l(g(s))};return e.jsxs("div",{className:"mb-3 flex items-center",children:[e.jsx("div",{children:e.jsx("img",{src:`${t.image}`,className:"w-16 h-16",alt:t.name_ar})}),e.jsxs("div",{className:"flex-1  mx-1",children:[e.jsx("h5",{className:"text-white",children:r.language==="ar"?t.name_ar:t.name_en}),e.jsxs("div",{className:"text-primary flex",children:[e.jsxs("p",{className:"mx-1",children:[" ",t.price]}),c?e.jsx("p",{className:"mx-1",children:r.language==="ar"?c.currency_ar:c.currency_en}):""]}),e.jsxs("div",{className:"flex mt-2 ",children:[e.jsx("button",{onClick:()=>x(t.id),className:"bg-orange-600 w-6 h-6 rounded-xl flex justify-center items-center",children:e.jsx(_,{})}),e.jsx("input",{type:"text",className:"w-10 text-center",readOnly:!0,value:t.quantity}),e.jsx("button",{onClick:()=>u(t.id),className:"bg-orange-600 w-6 h-6 rounded-xl flex justify-center items-center",children:e.jsx(k,{})})]})]}),e.jsx("div",{className:"flex justify-center items-center mr-3",children:e.jsx("button",{onClick:()=>i(t.id),className:"bg-red-600 w-10 h-10 rounded-full flex justify-center items-center ",children:e.jsx(F,{})})})]},t.id)}function D({table:t}){const n=j(a=>a.cart.meals),{t:r,i18n:l}=p();h();const[c,x]=y.useState(t),{app_settings:u}=m().props,i=n.reduce((a,o)=>a+o.price*o.quantity,0),s=a=>{a.preventDefault(),w.post("/send/order",{table:c,total:i,order:n},{onSuccess:()=>{alert("✅ Order sent successfully!")},onError:o=>{console.log(o),alert("❌ Failed to send order!")}})};return e.jsx("div",{children:e.jsxs("div",{className:"drawer drawer-end",children:[e.jsx("input",{id:"my-drawer-4",type:"checkbox",className:"drawer-toggle"}),e.jsx("div",{className:"drawer-content",children:e.jsx("label",{htmlFor:"my-drawer-4",className:"fixed bottom-24 right-10 w-12 h-12 rounded-full bg-orange-600 flex justify-center items-center",children:e.jsx(v,{size:25,color:"white"})})}),e.jsxs("div",{className:"drawer-side z-50",children:[e.jsx("label",{htmlFor:"my-drawer-4","aria-label":"close sidebar",className:"drawer-overlay"}),e.jsx("ul",{className:"menu bg-base-200 text-base-content min-h-full relative w-80 p-4",children:n&&n.length>0?e.jsxs(e.Fragment,{children:[n.map(a=>e.jsx(C,{item:a},a.id)),e.jsxs("div",{className:"bottom-10 right-10 left-10 absolute",children:[e.jsxs("div",{className:"text-white font-bold text-lg text-center my-4",children:[r("total"),": ",i.toFixed(2)," AED"]}),t&&t!==null?e.jsx("form",{onSubmit:s,children:e.jsx("button",{type:"submit",className:"btn btn-primary w-full",children:r("send-order")})}):e.jsxs("div",{children:[e.jsx("p",{className:"text-white text-center mb-5",children:r("out-of-table")}),e.jsx(N,{href:route("checkout.page"),className:"btn btn-primary w-full",children:r("continue-checkout")})]})]})]}):e.jsx("h5",{className:"text-white text-center",children:r("cart_empty")})})]})]})})}export{C,D as F,z as a,_ as b};
