import{r as b,m as _,j as e,L as N,$ as h}from"./app-BUS-dX_O.js";import{A as y}from"./app-layout-COVmnjlN.js";import{I as m}from"./input-CjmRTGpE.js";import{L as o}from"./label-BPDo-Z-u.js";import{I as t}from"./input-error-Kr5C5WTD.js";import{B as w}from"./button-Cfp6m44s.js";import{F as C}from"./index-Dc1QSC8z.js";import{M as I}from"./index-CRW9yDGm.js";import{C as L}from"./index-7zQWueXk.js";import{u as A}from"./useTranslation-CeuNbFpE.js";/* empty css            */import"./index-BmP6V0Vr.js";import"./index-BNJmS9q9.js";import"./index-DcpbldwZ.js";import"./index-aNzyaZiw.js";import"./x-hNHRFtmp.js";import"./app-logo-icon-2tErsV_o.js";import"./LanguageSwitcher-NdLjSwHa.js";import"./chevron-right-3gwxXMWY.js";const D=[{title:"Categories",href:"/dashboard"}];function V({categories:c,meals:p}){const{t:r,i18n:g}=A(),[x,j]=b.useState(null),{data:n,setData:a,post:u,errors:i}=_({categoryId:"",name_en:"",name_ar:"",description_en:"",description_ar:"",price:"",image:"",setImagePreview:null}),f=s=>{s.preventDefault(),u(route("meal.store")),a("name_ar",""),a("name_en",""),a("description_ar",""),a("description_en",""),a("price",""),a("image","")},v=s=>{const l=s.target.files[0];if(a("image",l),l){const d=new FileReader;d.onloadend=()=>{j(d.result)},d.readAsDataURL(l)}};return e.jsxs(y,{breadcrumbs:D,children:[e.jsx(N,{title:"Meals"}),e.jsxs("div",{className:"grid grid-cols-12 gap-4 container mx-auto px-4 my-10",children:[e.jsx("div",{className:"col-span-12 md:col-span-5",children:e.jsxs("form",{onSubmit:f,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{children:r("select-category")}),e.jsxs("select",{value:n.categoryId,onChange:s=>a("categoryId",s.target.value),className:"select select-primary w-full bg-transparent border focus:outline-0 rounded",children:[e.jsxs("option",{value:"0",children:[r("select-category")," "]}),c&&c.map(s=>e.jsx("option",{value:s.id,children:g.language==="ar"?s.name_ar:s.name_en},s.id))]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{children:r("name-en")}),e.jsx(m,{type:"text",value:n.name_en,onChange:s=>a("name_en",s.target.value)}),e.jsx(t,{message:i.name_en})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{children:r("name-ar")}),e.jsx(m,{type:"text",value:n.name_ar,onChange:s=>a("name_ar",s.target.value)}),e.jsx(t,{message:i.name_en})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{children:r("description-en")}),e.jsx(m,{type:"text",value:n.description_en,onChange:s=>a("description_en",s.target.value)}),e.jsx(t,{message:i.name_en})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs(o,{children:[" ",r("description-ar")," "]}),e.jsx(m,{type:"text",value:n.description_ar,onChange:s=>a("description_ar",s.target.value)}),e.jsx(t,{message:i.name_en})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{children:r("price")}),e.jsx(m,{type:"number",value:n.price,onChange:s=>a("price",s.target.value)}),e.jsx(t,{message:i.name_en})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:"image",className:"border border-dashed flex justify-center items-center gap-2 py-10",children:[e.jsx("input",{type:"file",className:"hidden",id:"image",onChange:v}),e.jsx(L,{size:30}),e.jsx("p",{children:r("select-image")})]}),x&&e.jsx("div",{className:"mt-3",children:e.jsx("img",{src:x,alt:"Image preview",className:"w-44 h-44  rounded-lg"})}),e.jsx(t,{message:i.image})]}),e.jsx(w,{type:"submit",children:r("save")})]})}),e.jsx("div",{className:"col-span-12 md:col-span-5",children:e.jsx("div",{className:"grid grid-cols-3 gap-4",children:p&&p.map(s=>e.jsxs("div",{className:"border border-gray-300 overflow-hidden rounded-2xl pb-3",children:[e.jsx("img",{src:`/uploads/${s.image}`,alt:s.name_en}),e.jsxs("div",{className:"p-2 flex flex-col justify-center items-center",children:[e.jsx("p",{children:s.name_en}),e.jsx("p",{children:s.name_ar}),e.jsx("p",{className:"font-bold text-primary",children:s.price})]}),e.jsxs("div",{className:"flex mt-2",children:[e.jsx(h,{href:route("edit.meal.page",s.id),className:"btn btn-success bg-green-600 mx-1 flex-1",children:e.jsx(I,{color:"white"})}),e.jsx(h,{href:route("meal.delete",s.id),onClick:l=>{l.preventDefault(),confirm("Are you sure you want to delete this category?")&&(window.location.href=route("meal.delete",s.id))},className:"btn btn-error bg-red-600 mx-1 flex-1",children:e.jsx(C,{color:"white"})})]})]}))})})]})]})}export{V as default};
