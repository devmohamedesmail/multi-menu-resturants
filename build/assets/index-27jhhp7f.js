import{r as f,j as e,L as B,R as q,S as _}from"./app-BUS-dX_O.js";import{c as L,d as b,b as i,e as $,u as A,I as y}from"./image-upload-_6FQQZTk.js";import{C as E,a as I,b as V,c as R,d as M}from"./card-Dr5p9bLg.js";import{a as v,B as x}from"./button-Cfp6m44s.js";import{I as m}from"./input-CjmRTGpE.js";import{L as l}from"./label-BPDo-Z-u.js";import{I as d}from"./input-error-Kr5C5WTD.js";import{S as T,a as z,b as D,c as U,d as O}from"./select-sHEB4Wn3.js";import{u as H}from"./useTranslation-CeuNbFpE.js";import{U as P}from"./user-wSg8_0qV.js";import{L as G}from"./languages-DkjGpqw4.js";import{A as J}from"./arrow-left-B6nV2dJJ.js";import{A as K}from"./arrow-right-BVHaR-1a.js";/* empty css            */import"./x-hNHRFtmp.js";import"./index-DcpbldwZ.js";import"./index-BNJmS9q9.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],w=v("CircleCheck",Q);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],N=v("Store",W);function ue({countries:g}){const{t:r,i18n:C}=H(),[n,j]=f.useState(1),[o,p]=f.useState(!1),u=2,S=L({name:i().required(r("store.full-name-required")),email:i().email(r("store.invalid-email")).required(r("store.email-required")),password:i().min(8,r("store.password-min")).required(r("store.password-required")),password_confirmation:i().oneOf([$("password")],r("store.passwords-must-match")).required(r("store.confirm-password-required")),store_name:i().required(r("store.store-name-required")),country_id:i().required(r("store.country-required")),store_email:i().email(r("store.invalid-email")).nullable(),store_phone:i().nullable(),store_address:i().nullable(),store_description:i().nullable(),image:b().required(r("store.store-logo-required")),banner:b().nullable()}),s=A({initialValues:{name:"",email:"",password:"",password_confirmation:"",country_id:"",store_name:"",slug:"",store_email:"",store_phone:"",store_address:"",store_description:"",image:null,banner:null},validationSchema:S,onSubmit:async a=>{p(!0);const t=new FormData;t.append("name",a.name),t.append("email",a.email),t.append("password",a.password),t.append("password_confirmation",a.password_confirmation),t.append("country_id",a.country_id),t.append("store_name",a.store_name),t.append("slug",a.slug),a.store_email&&t.append("store_email",a.store_email),a.store_phone&&t.append("store_phone",a.store_phone),a.store_address&&t.append("store_address",a.store_address),a.store_description&&t.append("store_description",a.store_description),a.image&&t.append("image",a.image),a.banner&&t.append("banner",a.banner);try{await _.post(route("register.store"),t,{onSuccess:()=>{_.visit("/store/dashboard")},onError:c=>{p(!1),Object.keys(c).forEach(h=>{s.setFieldError(h,c[h])})}})}catch{p(!1)}}}),F=async()=>{if(n===1){const a=["name","email","password","password_confirmation"],t=await s.validateForm();a.filter(h=>t[h]).length===0?j(2):a.forEach(h=>s.setFieldTouched(h,!0))}},k=()=>{n>1&&j(n-1)};return e.jsxs(e.Fragment,{children:[e.jsx(B,{title:r("register-store")}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-2xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary/10 rounded-full mb-4",children:e.jsx(N,{className:"w-8 h-8 text-primary"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:r("register-store")}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:r("store-registration")})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex items-center justify-between max-w-md mx-auto",children:[1,2].map(a=>e.jsxs(q.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-all ${n>=a?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:n>a?e.jsx(w,{className:"w-6 h-6"}):a}),e.jsx("span",{className:"mt-2 text-xs font-medium text-gray-600 dark:text-gray-400",children:r(a===1?"account-info":"store-info")})]}),a<u&&e.jsx("div",{className:`flex-1 h-1 mx-2 transition-all ${n>a?"bg-primary":"bg-gray-200 dark:bg-gray-700"}`})]},a))})}),e.jsxs(E,{className:"shadow-xl border-0",children:[e.jsxs(I,{children:[e.jsx(V,{className:"flex items-center gap-2",children:n===1?e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"w-5 h-5"}),r("create-your-account")]}):e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"w-5 h-5"}),r("setup-your-store")]})}),e.jsxs(R,{children:[r("step")," ",n," ",r("of")," ",u]})]}),e.jsx(M,{children:e.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-6",children:[n===1&&e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-300",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"name",children:r("full-name")}),e.jsx(m,{id:"name",name:"name",type:"text",autoFocus:!0,value:s.values.name,onChange:s.handleChange,onBlur:s.handleBlur,disabled:o,placeholder:r("enter-full-name"),className:"h-11"}),s.touched.name&&s.errors.name&&e.jsx(d,{message:s.errors.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"email",children:r("email")}),e.jsx(m,{id:"email",name:"email",type:"email",value:s.values.email,onChange:s.handleChange,onBlur:s.handleBlur,disabled:o,placeholder:r("enter-email"),className:"h-11"}),s.touched.email&&s.errors.email&&e.jsx(d,{message:s.errors.email})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"password",children:r("password")}),e.jsx(m,{id:"password",name:"password",type:"password",value:s.values.password,onChange:s.handleChange,onBlur:s.handleBlur,disabled:o,placeholder:r("enter-password"),className:"h-11"}),s.touched.password&&s.errors.password&&e.jsx(d,{message:s.errors.password})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"password_confirmation",children:r("confirm-password")}),e.jsx(m,{id:"password_confirmation",name:"password_confirmation",type:"password",value:s.values.password_confirmation,onChange:s.handleChange,onBlur:s.handleBlur,disabled:o,placeholder:r("confirm-password"),className:"h-11"}),s.touched.password_confirmation&&s.errors.password_confirmation&&e.jsx(d,{message:s.errors.password_confirmation})]})]}),n===2&&e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-300",children:[e.jsx("h2",{children:s.values.slug}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{htmlFor:"store_name",children:r("store-name")}),e.jsx(m,{id:"store_name",name:"store_name",type:"text",autoFocus:!0,value:s.values.store_name,onChange:a=>{s.handleChange(a);const c=a.target.value.trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");s.setFieldValue("slug",c)},onBlur:s.handleBlur,disabled:o,placeholder:r("enter-store-name"),className:"h-11"}),s.touched.store_name&&s.errors.store_name&&e.jsx(d,{message:s.errors.store_name})]}),e.jsx(y,{id:"image",label:r("store-logo"),required:!0,accept:"image/*",onChange:a=>s.setFieldValue("image",a),disabled:o,error:s.touched.image&&s.errors.image?String(s.errors.image):void 0,previewClassName:"h-40 object-contain"}),e.jsx(y,{id:"banner",label:`${r("store-banner")} (${r("optional")})`,accept:"image/*",onChange:a=>s.setFieldValue("banner",a),disabled:o,error:s.touched.banner&&s.errors.banner?String(s.errors.banner):void 0,previewClassName:"h-48 object-cover"}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(l,{htmlFor:"store_email",children:[r("store-email")," ",e.jsxs("span",{className:"text-gray-400 text-xs",children:["(",r("optional"),")"]})]}),e.jsx(m,{id:"store_email",name:"store_email",type:"email",value:s.values.store_email,onChange:s.handleChange,onBlur:s.handleBlur,disabled:o,placeholder:r("enter-store-email"),className:"h-11"}),s.touched.store_email&&s.errors.store_email&&e.jsx(d,{message:s.errors.store_email})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(l,{htmlFor:"store_phone",children:[r("store-phone")," ",e.jsxs("span",{className:"text-gray-400 text-xs",children:["(",r("optional"),")"]})]}),e.jsx(m,{id:"store_phone",name:"store_phone",type:"tel",value:s.values.store_phone,onChange:s.handleChange,onBlur:s.handleBlur,disabled:o,placeholder:r("enter-store-phone"),className:"h-11"}),s.touched.store_phone&&s.errors.store_phone&&e.jsx(d,{message:s.errors.store_phone})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(l,{htmlFor:"store_address",children:[r("store-address")," ",e.jsxs("span",{className:"text-gray-400 text-xs",children:["(",r("optional"),")"]})]}),e.jsx(m,{id:"store_address",name:"store_address",type:"text",value:s.values.store_address,onChange:s.handleChange,onBlur:s.handleBlur,disabled:o,placeholder:r("enter-store-address"),className:"h-11"}),s.touched.store_address&&s.errors.store_address&&e.jsx(d,{message:s.errors.store_address})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(l,{htmlFor:"store_description",children:[r("store-description")," ",e.jsxs("span",{className:"text-gray-400 text-xs",children:["(",r("optional"),")"]})]}),e.jsx("textarea",{id:"store_description",name:"store_description",value:s.values.store_description,onChange:s.handleChange,onBlur:s.handleBlur,disabled:o,placeholder:r("enter-store-description"),className:"flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",rows:4}),s.touched.store_description&&s.errors.store_description&&e.jsx(d,{message:s.errors.store_description})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(l,{children:r("store.choose-country")}),e.jsxs(T,{value:s.values.country_id,onValueChange:a=>s.setFieldValue("country_id",a),children:[e.jsxs(z,{className:"w-full h-11",children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),e.jsx(D,{placeholder:r("store.choose-country")})]}),e.jsx(U,{children:g&&g.map(a=>e.jsx(O,{value:String(a.id),children:C.language==="ar"?a.name_ar:a.name_en},a.id))})]}),s.touched.country_id&&s.errors.country_id&&e.jsx(d,{message:s.errors.country_id})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[n>1&&e.jsxs(x,{type:"button",variant:"outline",onClick:k,disabled:o,className:"flex-1",children:[e.jsx(J,{className:"w-4 h-4 mr-2"}),r("previous")]}),n<u?e.jsxs(x,{type:"button",onClick:F,disabled:o,className:"flex-1",children:[r("next"),e.jsx(K,{className:"w-4 h-4 ml-2"})]}):e.jsx(x,{type:"submit",disabled:o,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),r("submit"),"..."]}):e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),r("complete-registration")]})})]})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r("already-account")," ",e.jsx("a",{href:route("login"),className:"text-primary font-medium hover:underline",children:r("login")})]})})]})})]})}export{ue as default};
