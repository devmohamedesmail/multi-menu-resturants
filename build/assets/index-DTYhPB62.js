import{r as f,m as v,j as e,L as b,$ as x}from"./app-DhDDtAyQ.js";import{A as N}from"./app-layout-C73BdY2N.js";import{L as p,I as h,a as m}from"./input-error-BDxCKcJM.js";import{B as _}from"./button-SpcO9S2u.js";import{F as y}from"./index-C-VwZxtO.js";import{M as w}from"./LanguageSwitcher-YJuLFEV2.js";import{C}from"./index-B9BTpUeX.js";import{u as I}from"./useTranslation-Bsr17mhK.js";/* empty css            */import"./index-BdmlqqJh.js";import"./index-6dkcievv.js";import"./index-D0NmuaPq.js";import"./x-Dgk6eTym.js";import"./log-out-DO5KyO6v.js";import"./app-logo-icon-Bn_yr-pO.js";const L=[{title:"Categories",href:"/dashboard"}];function q({categories:l}){const{t}=I(),[o,d]=f.useState(null),{data:c,setData:a,post:g,errors:i}=v({name_en:"",name_ar:"",image:""}),j=s=>{s.preventDefault(),g(route("category.store")),a("name_ar",""),a("name_en",""),a("image",""),d(null)},u=s=>{const r=s.target.files[0];if(a("image",r),r){const n=new FileReader;n.onloadend=()=>{d(n.result)},n.readAsDataURL(r)}};return e.jsxs(N,{breadcrumbs:L,children:[e.jsx(b,{title:"Categories"}),e.jsxs("div",{className:"grid grid-cols-12 gap-4 container mx-auto px-4 my-10",children:[e.jsx("div",{className:"col-span-12 md:col-span-5",children:e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(p,{children:t("name-en")}),e.jsx(h,{type:"text",value:c.name_en,onChange:s=>a("name_en",s.target.value)}),e.jsx(m,{message:i.name_en})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(p,{children:t("name-ar")}),e.jsx(h,{type:"text",value:c.name_ar,onChange:s=>a("name_ar",s.target.value)}),e.jsx(m,{message:i.name_ar})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:"image",className:"border border-dashed flex justify-center items-center gap-2 py-10",children:[e.jsx("input",{type:"file",className:"hidden",id:"image",onChange:u}),e.jsx(C,{size:30}),e.jsx("p",{children:t("select-image")})]}),o&&e.jsx("div",{className:"mt-3",children:e.jsx("img",{src:o,alt:"Image preview",className:"w-44 h-44  rounded-lg"})}),e.jsx(m,{message:i.image})]}),e.jsx(_,{type:"submit",children:t("save")})]})}),e.jsx("div",{className:"col-span-12 md:col-span-5",children:e.jsx("div",{className:"grid grid-cols-3 gap-1",children:l&&l.map(s=>e.jsxs("div",{className:"border border-gray-300 overflow-hidden rounded-2xl pb-3",children:[e.jsx("img",{src:`/uploads/${s.image}`,alt:s.name_en}),e.jsxs("div",{className:"p-2 flex flex-col justify-center items-center",children:[e.jsx("p",{children:s.name_en}),e.jsx("p",{children:s.name_ar})]}),e.jsxs("div",{className:"flex mt-2",children:[e.jsx(x,{href:route("category.edit",s.id),className:"btn btn-success bg-green-600 mx-1 flex-1",children:e.jsx(w,{color:"white"})}),e.jsx(x,{href:route("category.delete",s.id),onClick:r=>{r.preventDefault(),confirm("Are you sure you want to delete this category?")&&(window.location.href=route("category.delete",s.id))},className:"btn btn-error bg-red-600 mx-1 flex-1",children:e.jsx(y,{color:"white"})})]})]}))})})]})]})}export{q as default};
