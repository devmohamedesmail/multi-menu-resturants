import{r as l,j as s,L as x,$ as i,a as m}from"./app-BUS-dX_O.js";import{A as h}from"./app-layout-COVmnjlN.js";import{u as p}from"./useTranslation-CeuNbFpE.js";/* empty css            */import"./button-Cfp6m44s.js";import"./index-BmP6V0Vr.js";import"./index-BNJmS9q9.js";import"./index-DcpbldwZ.js";import"./index-aNzyaZiw.js";import"./x-hNHRFtmp.js";import"./app-logo-icon-2tErsV_o.js";import"./LanguageSwitcher-NdLjSwHa.js";import"./index-CRW9yDGm.js";import"./chevron-right-3gwxXMWY.js";const j=[{title:"Daily orders",href:"/dashboard"}];function S(){const{t:r}=p(),[a,c]=l.useState([]),n=async()=>{try{const e=await m.get("/fetch/dialy/orders");c(e.data)}catch(e){console.error("Error fetching daily orders:",e)}};return l.useEffect(()=>{setInterval(n,5e3)},[]),s.jsxs(h,{breadcrumbs:j,children:[s.jsx(x,{title:"Categories"}),s.jsx("div",{className:"px-5",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-primary",children:[s.jsx("th",{className:"text-black",children:"Table No"}),s.jsx("th",{className:"text-black",children:"Order"}),s.jsx("th",{className:"text-black",children:"Total"}),s.jsx("th",{className:"text-black",children:"Status"}),s.jsx("th",{className:"text-black",children:"Actions"})]})}),s.jsx("tbody",{children:a&&a.map(e=>{const d=JSON.parse(e.order);return s.jsxs("tr",{className:"border",children:[s.jsx("td",{children:e.table?s.jsx("p",{className:"w-8 h-8 bg-primary flex justify-center items-center rounded-full",children:e.table}):s.jsxs("div",{children:[s.jsx("p",{children:e.address}),s.jsx("p",{children:e.phone}),s.jsx("p",{children:e.name})]})}),s.jsx("td",{children:d.map((t,o)=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("img",{className:"w-16 h-16 rounded-full",src:`/uploads/${t.image}`,alt:t.name_ar}),s.jsx("p",{className:"px-2",children:t.name_ar})]}),s.jsx("p",{className:"font-bold bg-primary w-5 h-5 flex justify-center items-center rounded-2xl",children:t.quantity})]},o))}),s.jsx("td",{children:e.total}),s.jsx("td",{children:e.status==1?r("order-preparing"):""}),s.jsxs("th",{children:[e.status!==2&&e.status!==1?s.jsx(i,{href:route("order.preparing",e.id),className:"btn btn-success text-white mx-1",children:r("preparing")}):"",s.jsx(i,{href:route("order.done",e.id),className:"btn btn-success text-white mx-1",children:r("done")})]})]},e.id)})})]})})})]})}export{S as default};
