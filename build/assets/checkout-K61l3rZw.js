import{j as e,u as y,K as N,b as v,m as w,L as _,S as F,i as C,d as k,c as q}from"./app-DhDDtAyQ.js";import{H as D,F as S,a as E,b as B,B as H}from"./BottomNav-yUHMm4pi.js";import{u as j}from"./useTranslation-Bsr17mhK.js";import{F as I}from"./index-C-VwZxtO.js";/* empty css            */import"./LanguageSwitcher-YJuLFEV2.js";function x({label:m,type:h,value:i,onChange:t,...n}){const{t:c,i18n:r}=j();return e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:`block mb-1 text-white ${r.language==="ar"?"text-right":"text-left"}`,children:m}),e.jsx("input",{...n,type:h,value:i,onChange:t,className:"w-full border  h-12 text-white px-2 focus:border-primary focus:outline-0"})]})}function K({categories:m,meals:h,table:i}){const{t,i18n:n}=j(),c=y(),{app_settings:r}=N().props,l=v(s=>s.cart.meals),{data:d,setData:o}=w({name:"",address:"",phone:""}),p=s=>{c(C(s))},f=s=>{c(k(s))},b=s=>{c(q(s))},u=l.reduce((s,a)=>s+a.price*a.quantity,0),g=s=>{s.preventDefault(),F.post("/send/order",{total:u,order:l,name:d.name,address:d.address,phone:d.phone},{onSuccess:()=>{const a=document.getElementById("my_modal_2");a&&a.showModal()},onError:a=>{console.log(a),alert("âŒ Failed to send order!")}})};return e.jsxs("div",{children:[e.jsx(_,{title:"Home"}),e.jsx(D,{}),e.jsxs("div",{className:"container mx-auto py-3 pb-50 px-3",children:[e.jsx("h6",{className:"text-white text-center font-extrabold text-xl mb-20",children:t("checkout")}),e.jsx("form",{onSubmit:g,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white text-center mb-5 font-bold",children:t("delivery-info")}),e.jsx(x,{required:!0,label:t("name"),type:"text",onChange:s=>o("name",s.target.value)}),e.jsx(x,{required:!0,label:t("address"),type:"text",onChange:s=>o("address",s.target.value)}),e.jsx(x,{required:!0,label:t("phone"),type:"text",onChange:s=>o("phone",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white text-center mb-5 font-bold",children:t("summery-order")}),l&&l.length>0?e.jsxs(e.Fragment,{children:[l.map(s=>e.jsxs("div",{className:"mb-3 flex items-center",children:[e.jsx("div",{children:e.jsx("img",{src:`/uploads/${s.image}`,className:"w-16 h-16",alt:s.name_ar})}),e.jsxs("div",{className:"flex-1  mx-1",children:[e.jsx("h5",{className:"text-white",children:n.language==="ar"?s.name_ar:s.name_en}),e.jsxs("div",{className:"text-primary flex",children:[e.jsxs("p",{className:"mx-1",children:[" ",s.price]}),e.jsx("p",{className:"mx-1",children:n.language==="ar"?r.currency_ar:r.currency_en})]}),e.jsxs("div",{className:"flex mt-2 ",children:[e.jsx("button",{onClick:()=>p(s.id),className:"bg-primary w-6 h-6 rounded-xl flex justify-center items-center",children:e.jsx(S,{})}),e.jsx("input",{type:"text",className:"w-10 text-center text-white",readOnly:!0,value:s.quantity}),e.jsx("button",{onClick:()=>f(s.id),className:"bg-primary w-6 h-6 rounded-xl flex justify-center items-center",children:e.jsx(E,{})})]})]}),e.jsx("div",{className:"flex justify-center items-center mr-3",children:e.jsx("button",{onClick:()=>b(s.id),className:"bg-red-600 w-10 h-10 flex justify-center items-center rounded-xl",children:e.jsx(I,{color:"white"})})})]},s.id)),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"text-white font-bold text-lg text-center my-4",children:[t("total"),": ",u.toFixed(2)," AED"]}),e.jsx("button",{type:"submit",className:"btn btn-primary w-full",children:t("send-order")})]})]}):e.jsx("h5",{className:"text-white text-center",children:t("cart_empty")})]})]})})]}),e.jsxs("dialog",{id:"my_modal_2",className:"modal",children:[e.jsx("div",{className:"modal-box",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("img",{src:`/uploads/${r.logo}`,className:"w-28 h-28",alt:r.title_ar}),e.jsx("h3",{className:"font-bold text-lg text-white",children:t("order-success")}),e.jsx("p",{className:"py-4 text-white",children:t("thank-you")})]})}),e.jsx("form",{method:"dialog",className:"modal-backdrop",children:e.jsx("button",{children:"close"})})]}),e.jsx(B,{table:i}),e.jsx(H,{})]})}export{K as default};
