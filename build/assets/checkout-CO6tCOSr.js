import{j as e,u as j,K as b,b as f,m as g,L as N,S as y}from"./app-BUS-dX_O.js";import{H as v,B as w}from"./BottomNav-CrIePHLu.js";import{C as _,F as C}from"./FloatCart-BCuHhTMS.js";import{u}from"./useTranslation-CeuNbFpE.js";/* empty css            */import"./LanguageSwitcher-NdLjSwHa.js";import"./index-CRW9yDGm.js";function i({label:c,type:m,value:l,onChange:s,...x}){const{t:o,i18n:a}=u();return e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:`block mb-1 text-white ${a.language==="ar"?"text-right":"text-left"}`,children:c}),e.jsx("input",{...x,type:m,value:l,onChange:s,className:"w-full border  h-12 text-white px-2 focus:border-primary focus:outline-0"})]})}function H({categories:c,meals:m,table:l}){const{t:s,i18n:x}=u();j();const{app_settings:o}=b().props,a=f(t=>t.cart.meals),{data:n,setData:d}=g({name:"",address:"",phone:""}),h=a.reduce((t,r)=>t+r.price*r.quantity,0),p=t=>{t.preventDefault(),y.post("/send/order",{total:h,order:a,name:n.name,address:n.address,phone:n.phone},{onSuccess:()=>{const r=document.getElementById("my_modal_2");r&&r.showModal()},onError:r=>{console.log(r),alert("âŒ Failed to send order!")}})};return e.jsxs("div",{children:[e.jsx(N,{title:"Home"}),e.jsx(v,{}),e.jsxs("div",{className:"container mx-auto py-3 pb-50 px-3",children:[e.jsx("h6",{className:"text-white text-center font-extrabold text-xl mb-20",children:s("checkout")}),e.jsx("form",{onSubmit:p,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white text-center mb-5 font-bold",children:s("delivery-info")}),e.jsx(i,{required:!0,label:s("name"),type:"text",onChange:t=>d("name",t.target.value)}),e.jsx(i,{required:!0,label:s("address"),type:"text",onChange:t=>d("address",t.target.value)}),e.jsx(i,{required:!0,label:s("phone"),type:"text",onChange:t=>d("phone",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white text-center mb-5 font-bold",children:s("summery-order")}),a&&a.length>0?e.jsxs(e.Fragment,{children:[a.map(t=>e.jsx(_,{item:t},t.id)),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"text-white font-bold text-lg text-center my-4",children:[s("total"),": ",h.toFixed(2)," AED"]}),e.jsx("button",{type:"submit",className:"btn btn-primary w-full",children:s("send-order")})]})]}):e.jsx("h5",{className:"text-white text-center",children:s("cart_empty")})]})]})})]}),e.jsxs("dialog",{id:"my_modal_2",className:"modal",children:[e.jsx("div",{className:"modal-box",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("img",{src:`/uploads/${o.logo}`,className:"w-28 h-28",alt:o.title_ar}),e.jsx("h3",{className:"font-bold text-lg text-white",children:s("order-success")}),e.jsx("p",{className:"py-4 text-white",children:s("thank-you")})]})}),e.jsx("form",{method:"dialog",className:"modal-backdrop",children:e.jsx("button",{children:"close"})})]}),e.jsx(C,{table:l}),e.jsx(w,{})]})}export{H as default};
