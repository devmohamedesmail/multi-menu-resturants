import{r as v,m as _,j as e,L as b}from"./app-DhDDtAyQ.js";import{A as f}from"./app-layout-C73BdY2N.js";import{L as l,I as d,a as m}from"./input-error-BDxCKcJM.js";import{B as y}from"./button-SpcO9S2u.js";import{C as N}from"./index-B9BTpUeX.js";import{u as C}from"./useTranslation-Bsr17mhK.js";/* empty css            */import"./index-BdmlqqJh.js";import"./index-6dkcievv.js";import"./index-D0NmuaPq.js";import"./x-Dgk6eTym.js";import"./log-out-DO5KyO6v.js";import"./app-logo-icon-Bn_yr-pO.js";import"./LanguageSwitcher-YJuLFEV2.js";const I=[{title:"Categories",href:"/dashboard"}];function U({categories:p,meal:r}){const{t:s}=C(),[x,u]=v.useState(null),{data:n,setData:t,post:g,errors:i}=_({categoryId:r.category_id,name_en:r.name_en,name_ar:r.name_ar,description_en:r.description_en,description_ar:r.description_ar,price:r.price,image:""}),j=a=>{a.preventDefault(),g(route("meal.update.confirm",{id:r.id}),{forceFormData:!0})},h=a=>{const o=a.target.files[0];if(t("image",o),o){const c=new FileReader;c.onloadend=()=>{u(c.result)},c.readAsDataURL(o)}};return e.jsxs(f,{breadcrumbs:I,children:[e.jsx(b,{title:"Meals"}),e.jsx("div",{className:"grid grid-cols-12 gap-4 container mx-auto px-4 my-10",children:e.jsx("div",{className:"col-span-12 md:col-span-5",children:e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{children:s("select-category")}),e.jsxs("select",{value:n.categoryId,onChange:a=>t("categoryId",a.target.value),className:"select select-primary w-full bg-transparent border focus:outline-0 rounded",children:[e.jsxs("option",{value:"0",disabled:!0,children:[" ",s("select-category")," "]}),p&&p.map(a=>e.jsx("option",{value:a.id,children:a.name_en},a.id))]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(l,{children:s("name-en")}),e.jsx(d,{type:"text",value:n.name_en,onChange:a=>t("name_en",a.target.value)}),e.jsx(m,{message:i.name_en})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(l,{children:s("name-ar")}),e.jsx(d,{type:"text",value:n.name_ar,onChange:a=>t("name_ar",a.target.value)}),e.jsx(m,{message:i.name_en})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(l,{children:s("description-en")}),e.jsx(d,{type:"text",value:n.description_en,onChange:a=>t("description_en",a.target.value)}),e.jsx(m,{message:i.name_en})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(l,{children:s("description-ar")}),e.jsx(d,{type:"text",value:n.description_ar,onChange:a=>t("description_ar",a.target.value)}),e.jsx(m,{message:i.name_en})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(l,{children:s("price")}),e.jsx(d,{type:"number",value:n.price,onChange:a=>t("price",a.target.value)}),e.jsx(m,{message:i.name_en})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("img",{src:`/uploads/${r.image}`,className:"w-44 h-44 rounded-lg",alt:""}),e.jsxs("label",{htmlFor:"image",className:"border border-dashed flex justify-center items-center gap-2 py-10",children:[e.jsx("input",{type:"file",className:"hidden",id:"image",onChange:h}),e.jsx(N,{size:30}),e.jsx("p",{children:s("select-image")})]}),x&&e.jsx("div",{className:"mt-3",children:e.jsx("img",{src:x,alt:"Image preview",className:"w-44 h-44  rounded-lg"})}),e.jsx(m,{message:i.image})]}),e.jsx(y,{type:"submit",children:s("update")})]})})})]})}export{U as default};
