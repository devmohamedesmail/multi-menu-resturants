import{r as l,j as e,R as M,e as je,S as k,L as sn,$ as ce}from"./app-BUS-dX_O.js";import{C as I,a as E,b as F,d as T,c as K}from"./card-Dr5p9bLg.js";import{a as V,c as H,B as w}from"./button-Cfp6m44s.js";import"./index-DcpbldwZ.js";import{c as ve,a as z,b as O,u as Ne,I as be}from"./image-upload-_6FQQZTk.js";import{D as _e,b as ye,g as Ce,c as we,d as Se}from"./dialog-Du_ZA114.js";import{I as P}from"./input-CjmRTGpE.js";import{L as S}from"./label-BPDo-Z-u.js";import{u as re}from"./useTranslation-CeuNbFpE.js";import{L as Ie}from"./loader-circle-BIq6i4Up.js";import{S as le,a as de,b as ue,c as me,d as pe}from"./select-sHEB4Wn3.js";import{L as rn}from"./index-BmP6V0Vr.js";import{P as $}from"./plus-BSt7xZqF.js";import{S as fe,T as he}from"./trash-2-BtY5nUPO.js";/* empty css            */import"./x-hNHRFtmp.js";import"./index-BNJmS9q9.js";import"./index-aNzyaZiw.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],xe=V("FolderOpen",an);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],cn=V("LayoutDashboard",on);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],dn=V("ShoppingBag",ln);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],mn=V("TrendingUp",un);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],X=V("UtensilsCrossed",pn);function R(n,t,{checkForDefaultPrevented:a=!0}={}){return function(s){if(n==null||n(s),a===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function ae(n,t=[]){let a=[];function r(o,i){const c=l.createContext(i),h=a.length;a=[...a,i];const p=f=>{var x;const{scope:g,children:d,..._}=f,N=((x=g==null?void 0:g[n])==null?void 0:x[h])||c,u=l.useMemo(()=>_,Object.values(_));return e.jsx(N.Provider,{value:u,children:d})};p.displayName=o+"Provider";function m(f,g){var N;const d=((N=g==null?void 0:g[n])==null?void 0:N[h])||c,_=l.useContext(d);if(_)return _;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[p,m]}const s=()=>{const o=a.map(i=>l.createContext(i));return function(c){const h=(c==null?void 0:c[n])||o;return l.useMemo(()=>({[`__scope${n}`]:{...c,[n]:h}}),[c,h])}};return s.scopeName=n,[r,fn(s,...t)]}function fn(...n){const t=n[0];if(n.length===1)return t;const a=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((c,{useScope:h,scopeName:p})=>{const f=h(o)[`__scope${p}`];return{...c,...f}},{});return l.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return a.scopeName=t.scopeName,a}function ge(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function Te(...n){return t=>{let a=!1;const r=n.map(s=>{const o=ge(s,t);return!a&&typeof o=="function"&&(a=!0),o});if(a)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():ge(n[s],null)}}}}function Y(...n){return l.useCallback(Te(...n),n)}function ne(n){const t=hn(n),a=l.forwardRef((r,s)=>{const{children:o,...i}=r,c=l.Children.toArray(o),h=c.find(gn);if(h){const p=h.props.children,m=c.map(f=>f===h?l.Children.count(p)>1?l.Children.only(null):l.isValidElement(p)?p.props.children:null:f);return e.jsx(t,{...i,ref:s,children:l.isValidElement(p)?l.cloneElement(p,void 0,m):null})}return e.jsx(t,{...i,ref:s,children:o})});return a.displayName=`${n}.Slot`,a}function hn(n){const t=l.forwardRef((a,r)=>{const{children:s,...o}=a;if(l.isValidElement(s)){const i=vn(s),c=jn(o,s.props);return s.type!==l.Fragment&&(c.ref=r?Te(r,i):i),l.cloneElement(s,c)}return l.Children.count(s)>1?l.Children.only(null):null});return t.displayName=`${n}.SlotClone`,t}var xn=Symbol("radix.slottable");function gn(n){return l.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===xn}function jn(n,t){const a={...t};for(const r in t){const s=n[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?a[r]=(...c)=>{const h=o(...c);return s(...c),h}:s&&(a[r]=s):r==="style"?a[r]={...s,...o}:r==="className"&&(a[r]=[s,o].filter(Boolean).join(" "))}return{...n,...a}}function vn(n){var r,s;let t=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?n.ref:(t=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,a=t&&"isReactWarning"in t&&t.isReactWarning,a?n.props.ref:n.props.ref||n.ref)}function Nn(n){const t=n+"CollectionProvider",[a,r]=ae(t),[s,o]=a(t,{collectionRef:{current:null},itemMap:new Map}),i=N=>{const{scope:u,children:x}=N,v=M.useRef(null),b=M.useRef(new Map).current;return e.jsx(s,{scope:u,itemMap:b,collectionRef:v,children:x})};i.displayName=t;const c=n+"CollectionSlot",h=ne(c),p=M.forwardRef((N,u)=>{const{scope:x,children:v}=N,b=o(c,x),y=Y(u,b.collectionRef);return e.jsx(h,{ref:y,children:v})});p.displayName=c;const m=n+"CollectionItemSlot",f="data-radix-collection-item",g=ne(m),d=M.forwardRef((N,u)=>{const{scope:x,children:v,...b}=N,y=M.useRef(null),j=Y(u,y),D=o(m,x);return M.useEffect(()=>(D.itemMap.set(y,{ref:y,...b}),()=>void D.itemMap.delete(y))),e.jsx(g,{[f]:"",ref:j,children:v})});d.displayName=m;function _(N){const u=o(n+"CollectionConsumer",N);return M.useCallback(()=>{const v=u.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(u.itemMap.values()).sort((D,G)=>b.indexOf(D.ref.current)-b.indexOf(G.ref.current))},[u.collectionRef,u.itemMap])}return[{Provider:i,Slot:p,ItemSlot:d},_,r]}var Z=globalThis!=null&&globalThis.document?l.useLayoutEffect:()=>{},bn=je[" useId ".trim().toString()]||(()=>{}),_n=0;function Re(n){const[t,a]=l.useState(bn());return Z(()=>{a(r=>r??String(_n++))},[n]),n||(t?`radix-${t}`:"")}var yn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],L=yn.reduce((n,t)=>{const a=ne(`Primitive.${t}`),r=l.forwardRef((s,o)=>{const{asChild:i,...c}=s,h=i?a:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(h,{...c,ref:o})});return r.displayName=`Primitive.${t}`,{...n,[t]:r}},{});function Cn(n){const t=l.useRef(n);return l.useEffect(()=>{t.current=n}),l.useMemo(()=>(...a)=>{var r;return(r=t.current)==null?void 0:r.call(t,...a)},[])}var wn=je[" useInsertionEffect ".trim().toString()]||Z;function Ee({prop:n,defaultProp:t,onChange:a=()=>{},caller:r}){const[s,o,i]=Sn({defaultProp:t,onChange:a}),c=n!==void 0,h=c?n:s;{const m=l.useRef(n!==void 0);l.useEffect(()=>{const f=m.current;f!==c&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,r])}const p=l.useCallback(m=>{var f;if(c){const g=In(m)?m(n):m;g!==n&&((f=i.current)==null||f.call(i,g))}else o(m)},[c,n,o,i]);return[h,p]}function Sn({defaultProp:n,onChange:t}){const[a,r]=l.useState(n),s=l.useRef(a),o=l.useRef(t);return wn(()=>{o.current=t},[t]),l.useEffect(()=>{var i;s.current!==a&&((i=o.current)==null||i.call(o,a),s.current=a)},[a,s]),[a,r,o]}function In(n){return typeof n=="function"}var Tn=l.createContext(void 0);function Fe(n){const t=l.useContext(Tn);return n||t||"ltr"}var ee="rovingFocusGroup.onEntryFocus",Rn={bubbles:!1,cancelable:!0},q="RovingFocusGroup",[te,Ae,En]=Nn(q),[Fn,Me]=ae(q,[En]),[An,Mn]=Fn(q),Pe=l.forwardRef((n,t)=>e.jsx(te.Provider,{scope:n.__scopeRovingFocusGroup,children:e.jsx(te.Slot,{scope:n.__scopeRovingFocusGroup,children:e.jsx(Pn,{...n,ref:t})})}));Pe.displayName=q;var Pn=l.forwardRef((n,t)=>{const{__scopeRovingFocusGroup:a,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:m=!1,...f}=n,g=l.useRef(null),d=Y(t,g),_=Fe(o),[N,u]=Ee({prop:i,defaultProp:c??null,onChange:h,caller:q}),[x,v]=l.useState(!1),b=Cn(p),y=Ae(a),j=l.useRef(!1),[D,G]=l.useState(0);return l.useEffect(()=>{const C=g.current;if(C)return C.addEventListener(ee,b),()=>C.removeEventListener(ee,b)},[b]),e.jsx(An,{scope:a,orientation:r,dir:_,loop:s,currentTabStopId:N,onItemFocus:l.useCallback(C=>u(C),[u]),onItemShiftTab:l.useCallback(()=>v(!0),[]),onFocusableItemAdd:l.useCallback(()=>G(C=>C+1),[]),onFocusableItemRemove:l.useCallback(()=>G(C=>C-1),[]),children:e.jsx(L.div,{tabIndex:x||D===0?-1:0,"data-orientation":r,...f,ref:d,style:{outline:"none",...n.style},onMouseDown:R(n.onMouseDown,()=>{j.current=!0}),onFocus:R(n.onFocus,C=>{const Xe=!j.current;if(C.target===C.currentTarget&&Xe&&!x){const ie=new CustomEvent(ee,Rn);if(C.currentTarget.dispatchEvent(ie),!ie.defaultPrevented){const Q=y().filter(A=>A.focusable),en=Q.find(A=>A.active),nn=Q.find(A=>A.id===N),tn=[en,nn,...Q].filter(Boolean).map(A=>A.ref.current);ke(tn,m)}}j.current=!1}),onBlur:R(n.onBlur,()=>v(!1))})})}),De="RovingFocusGroupItem",Oe=l.forwardRef((n,t)=>{const{__scopeRovingFocusGroup:a,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...c}=n,h=Re(),p=o||h,m=Mn(De,a),f=m.currentTabStopId===p,g=Ae(a),{onFocusableItemAdd:d,onFocusableItemRemove:_,currentTabStopId:N}=m;return l.useEffect(()=>{if(r)return d(),()=>_()},[r,d,_]),e.jsx(te.ItemSlot,{scope:a,id:p,focusable:r,active:s,children:e.jsx(L.span,{tabIndex:f?0:-1,"data-orientation":m.orientation,...c,ref:t,onMouseDown:R(n.onMouseDown,u=>{r?m.onItemFocus(p):u.preventDefault()}),onFocus:R(n.onFocus,()=>m.onItemFocus(p)),onKeyDown:R(n.onKeyDown,u=>{if(u.key==="Tab"&&u.shiftKey){m.onItemShiftTab();return}if(u.target!==u.currentTarget)return;const x=kn(u,m.orientation,m.dir);if(x!==void 0){if(u.metaKey||u.ctrlKey||u.altKey||u.shiftKey)return;u.preventDefault();let b=g().filter(y=>y.focusable).map(y=>y.ref.current);if(x==="last")b.reverse();else if(x==="prev"||x==="next"){x==="prev"&&b.reverse();const y=b.indexOf(u.currentTarget);b=m.loop?Ln(b,y+1):b.slice(y+1)}setTimeout(()=>ke(b))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:N!=null}):i})})});Oe.displayName=De;var Dn={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function On(n,t){return t!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function kn(n,t,a){const r=On(n.key,a);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Dn[r]}function ke(n,t=!1){const a=document.activeElement;for(const r of n)if(r===a||(r.focus({preventScroll:t}),document.activeElement!==a))return}function Ln(n,t){return n.map((a,r)=>n[(t+r)%n.length])}var $n=Pe,Bn=Oe;function Un(n,t){return l.useReducer((a,r)=>t[a][r]??a,n)}var Le=n=>{const{present:t,children:a}=n,r=Vn(t),s=typeof a=="function"?a({present:r.isPresent}):l.Children.only(a),o=Y(r.ref,qn(s));return typeof a=="function"||r.isPresent?l.cloneElement(s,{ref:o}):null};Le.displayName="Presence";function Vn(n){const[t,a]=l.useState(),r=l.useRef(null),s=l.useRef(n),o=l.useRef("none"),i=n?"mounted":"unmounted",[c,h]=Un(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return l.useEffect(()=>{const p=W(r.current);o.current=c==="mounted"?p:"none"},[c]),Z(()=>{const p=r.current,m=s.current;if(m!==n){const g=o.current,d=W(p);n?h("MOUNT"):d==="none"||(p==null?void 0:p.display)==="none"?h("UNMOUNT"):h(m&&g!==d?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,h]),Z(()=>{if(t){let p;const m=t.ownerDocument.defaultView??window,f=d=>{const N=W(r.current).includes(CSS.escape(d.animationName));if(d.target===t&&N&&(h("ANIMATION_END"),!s.current)){const u=t.style.animationFillMode;t.style.animationFillMode="forwards",p=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=u)})}},g=d=>{d.target===t&&(o.current=W(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{m.clearTimeout(p),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:l.useCallback(p=>{r.current=p?getComputedStyle(p):null,a(p)},[])}}function W(n){return(n==null?void 0:n.animationName)||"none"}function qn(n){var r,s;let t=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?n.ref:(t=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,a=t&&"isReactWarning"in t&&t.isReactWarning,a?n.props.ref:n.props.ref||n.ref)}var J="Tabs",[Gn,ht]=ae(J,[Me]),$e=Me(),[Kn,oe]=Gn(J),Be=l.forwardRef((n,t)=>{const{__scopeTabs:a,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:c,activationMode:h="automatic",...p}=n,m=Fe(c),[f,g]=Ee({prop:r,onChange:s,defaultProp:o??"",caller:J});return e.jsx(Kn,{scope:a,baseId:Re(),value:f,onValueChange:g,orientation:i,dir:m,activationMode:h,children:e.jsx(L.div,{dir:m,"data-orientation":i,...p,ref:t})})});Be.displayName=J;var Ue="TabsList",Ve=l.forwardRef((n,t)=>{const{__scopeTabs:a,loop:r=!0,...s}=n,o=oe(Ue,a),i=$e(a);return e.jsx($n,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:e.jsx(L.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});Ve.displayName=Ue;var qe="TabsTrigger",Ge=l.forwardRef((n,t)=>{const{__scopeTabs:a,value:r,disabled:s=!1,...o}=n,i=oe(qe,a),c=$e(a),h=ze(i.baseId,r),p=Ye(i.baseId,r),m=r===i.value;return e.jsx(Bn,{asChild:!0,...c,focusable:!s,active:m,children:e.jsx(L.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":p,"data-state":m?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:h,...o,ref:t,onMouseDown:R(n.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:R(n.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:R(n.onFocus,()=>{const f=i.activationMode!=="manual";!m&&!s&&f&&i.onValueChange(r)})})})});Ge.displayName=qe;var Ke="TabsContent",We=l.forwardRef((n,t)=>{const{__scopeTabs:a,value:r,forceMount:s,children:o,...i}=n,c=oe(Ke,a),h=ze(c.baseId,r),p=Ye(c.baseId,r),m=r===c.value,f=l.useRef(m);return l.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),e.jsx(Le,{present:s||m,children:({present:g})=>e.jsx(L.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":h,hidden:!g,id:p,tabIndex:0,...i,ref:t,style:{...n.style,animationDuration:f.current?"0s":void 0},children:g&&o})})});We.displayName=Ke;function ze(n,t){return`${n}-trigger-${t}`}function Ye(n,t){return`${n}-content-${t}`}var Wn=Be,Ze=Ve,He=Ge,Je=We;const zn=Wn,Qe=l.forwardRef(({className:n,...t},a)=>e.jsx(Ze,{ref:a,className:H("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...t}));Qe.displayName=Ze.displayName;const B=l.forwardRef(({className:n,...t},a)=>e.jsx(He,{ref:a,className:H("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...t}));B.displayName=He.displayName;const U=l.forwardRef(({className:n,...t},a)=>e.jsx(Je,{ref:a,className:H("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...t}));U.displayName=Je.displayName;function Yn({open:n,onClose:t,category:a}){const{t:r}=re(),[s,o]=l.useState(null),i=ve({name_en:O().required(r("required-field")),name_ar:O().required(r("required-field")),position:z().min(0,r("must-be-positive"))}),c=Ne({initialValues:{name_en:(a==null?void 0:a.name_en)||"",name_ar:(a==null?void 0:a.name_ar)||"",position:(a==null?void 0:a.position)||0},enableReinitialize:!0,validationSchema:i,onSubmit:async p=>{const m=new FormData;if(m.append("name_en",p.name_en),m.append("name_ar",p.name_ar),m.append("position",p.position.toString()),s)m.append("image",s);else if(!a){c.setFieldError("image",r("required-field"));return}a!=null&&a.id?(m.append("_method","PUT"),k.post(route("store.category.update",a.id),m,{onSuccess:()=>{t(),c.resetForm(),o(null)},onError:f=>{c.setErrors(f)}})):k.post(route("store.category.store"),m,{onSuccess:()=>{t(),c.resetForm(),o(null)},onError:f=>{c.setErrors(f)}})}}),h=p=>{o(p)};return e.jsx(_e,{open:n,onOpenChange:p=>!p&&t(),children:e.jsxs(ye,{className:"sm:max-w-[525px]",children:[e.jsxs(Ce,{children:[e.jsx(we,{children:r(a?"edit-category":"add-category")}),e.jsx(Se,{children:r("fill-category-details")})]}),e.jsxs("form",{onSubmit:c.handleSubmit,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"name_en",children:r("category-name-en")}),e.jsx(P,{id:"name_en",name:"name_en",value:c.values.name_en,onChange:c.handleChange,onBlur:c.handleBlur,placeholder:r("enter-category-name-en")}),c.touched.name_en&&c.errors.name_en&&e.jsx("p",{className:"text-sm text-red-500",children:c.errors.name_en})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"name_ar",children:r("category-name-ar")}),e.jsx(P,{id:"name_ar",name:"name_ar",value:c.values.name_ar,onChange:c.handleChange,onBlur:c.handleBlur,placeholder:r("enter-category-name-ar"),dir:"rtl"}),c.touched.name_ar&&c.errors.name_ar&&e.jsx("p",{className:"text-sm text-red-500",children:c.errors.name_ar})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"position",children:r("position")}),e.jsx(P,{id:"position",name:"position",type:"number",value:c.values.position,onChange:c.handleChange,onBlur:c.handleBlur,placeholder:r("enter-position")}),c.touched.position&&c.errors.position&&e.jsx("p",{className:"text-sm text-red-500",children:c.errors.position})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(be,{id:"category-image",label:r("category-image"),onChange:h}),!s&&!a&&e.jsx("p",{className:"text-sm text-red-500",children:r("image-required")})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(w,{type:"button",variant:"outline",onClick:t,disabled:c.isSubmitting,children:r("cancel")}),e.jsxs(w,{type:"submit",disabled:c.isSubmitting,children:[c.isSubmitting&&e.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"}),r(a?"update":"create")]})]})]})]})})}const se=l.forwardRef(({className:n,...t},a)=>e.jsx("textarea",{className:H("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:a,...t}));se.displayName="Textarea";function Zn({open:n,onClose:t,categories:a,attributes:r=[],meal:s}){var N;const{t:o,i18n:i}=re(),c=i.language==="ar",[h,p]=l.useState(null),[m,f]=l.useState(((N=s==null?void 0:s.attributes)==null?void 0:N.reduce((u,x)=>(u[x.attribute_id]=x.attribute_value_id,u),{}))||{}),g=ve({category_id:z().required(o("required-field")),name_en:O().required(o("required-field")),name_ar:O().required(o("required-field")),description_en:O(),description_ar:O(),price:z().min(0,o("must-be-positive")).required(o("required-field")),sale_price:z().min(0,o("must-be-positive"))}),d=Ne({initialValues:{category_id:(s==null?void 0:s.category.id)||"",name_en:(s==null?void 0:s.name_en)||"",name_ar:(s==null?void 0:s.name_ar)||"",description_en:(s==null?void 0:s.description_en)||"",description_ar:(s==null?void 0:s.description_ar)||"",price:(s==null?void 0:s.price)||"",sale_price:(s==null?void 0:s.sale_price)||""},enableReinitialize:!0,validationSchema:g,onSubmit:async u=>{const x=new FormData;if(x.append("category_id",u.category_id.toString()),x.append("name_en",u.name_en),x.append("name_ar",u.name_ar),x.append("description_en",u.description_en),x.append("description_ar",u.description_ar),x.append("price",u.price.toString()),u.sale_price&&x.append("sale_price",u.sale_price.toString()),x.append("attributes",JSON.stringify(m)),h)x.append("image",h);else if(!s){d.setFieldError("image",o("required-field"));return}s!=null&&s.id?(x.append("_method","PUT"),k.post(route("store.meal.update",s.id),x,{onSuccess:()=>{t(),d.resetForm(),p(null),f({})},onError:v=>{d.setErrors(v)}})):k.post(route("store.meal.store"),x,{onSuccess:()=>{t(),d.resetForm(),p(null),f({})},onError:v=>{d.setErrors(v)}})}}),_=u=>{p(u)};return e.jsx(_e,{open:n,onOpenChange:u=>!u&&t(),children:e.jsxs(ye,{className:"sm:max-w-[625px] max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ce,{children:[e.jsx(we,{children:o(s?"edit-meal":"add-meal")}),e.jsx(Se,{children:o("fill-meal-details")})]}),e.jsxs("form",{onSubmit:d.handleSubmit,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"category_id",children:o("category")}),e.jsxs(le,{value:d.values.category_id.toString(),onValueChange:u=>d.setFieldValue("category_id",parseInt(u)),children:[e.jsx(de,{children:e.jsx(ue,{placeholder:o("select-category")})}),e.jsx(me,{children:a.map(u=>e.jsxs(pe,{value:u.id.toString(),children:[u.name_en," - ",u.name_ar]},u.id))})]}),d.touched.category_id&&d.errors.category_id&&e.jsx("p",{className:"text-sm text-red-500",children:d.errors.category_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"name_en",children:o("meal-name-en")}),e.jsx(P,{id:"name_en",name:"name_en",value:d.values.name_en,onChange:d.handleChange,onBlur:d.handleBlur,placeholder:o("enter-meal-name-en")}),d.touched.name_en&&d.errors.name_en&&e.jsx("p",{className:"text-sm text-red-500",children:d.errors.name_en})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"name_ar",children:o("meal-name-ar")}),e.jsx(P,{id:"name_ar",name:"name_ar",value:d.values.name_ar,onChange:d.handleChange,onBlur:d.handleBlur,placeholder:o("enter-meal-name-ar"),dir:"rtl"}),d.touched.name_ar&&d.errors.name_ar&&e.jsx("p",{className:"text-sm text-red-500",children:d.errors.name_ar})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"description_en",children:o("description-en")}),e.jsx(se,{id:"description_en",name:"description_en",value:d.values.description_en,onChange:d.handleChange,onBlur:d.handleBlur,placeholder:o("enter-description-en"),rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"description_ar",children:o("description-ar")}),e.jsx(se,{id:"description_ar",name:"description_ar",value:d.values.description_ar,onChange:d.handleChange,onBlur:d.handleBlur,placeholder:o("enter-description-ar"),dir:"rtl",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"price",children:o("price")}),e.jsx(P,{id:"price",name:"price",type:"number",step:"0.01",value:d.values.price,onChange:d.handleChange,onBlur:d.handleBlur,placeholder:"0.00"}),d.touched.price&&d.errors.price&&e.jsx("p",{className:"text-sm text-red-500",children:d.errors.price})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"sale_price",children:o("sale-price")}),e.jsx(P,{id:"sale_price",name:"sale_price",type:"number",step:"0.01",value:d.values.sale_price,onChange:d.handleChange,onBlur:d.handleBlur,placeholder:"0.00"}),d.touched.sale_price&&d.errors.sale_price&&e.jsx("p",{className:"text-sm text-red-500",children:d.errors.sale_price})]})]}),r.length>0&&e.jsxs("div",{className:"space-y-4 border-t pt-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:o("meal-attributes")}),r.map(u=>{var x;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs(S,{htmlFor:`attribute-${u.id}`,children:[c?u.name_ar:u.name_en,u.is_required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs(le,{value:((x=m[u.id])==null?void 0:x.toString())||"",onValueChange:v=>f(b=>({...b,[u.id]:parseInt(v)})),children:[e.jsx(de,{children:e.jsx(ue,{placeholder:o("select-option")})}),e.jsx(me,{children:u.values.map(v=>e.jsxs(pe,{value:v.id.toString(),children:[c?v.value_ar:v.value_en,v.price_modifier!==0&&e.jsxs("span",{className:"text-orange-500 ml-2",children:["(",v.price_modifier>0?"+":"",v.price_modifier,")"]})]},v.id))})]})]},u.id)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(be,{id:"meal-image",label:o("meal-image"),onChange:_}),!h&&!s&&e.jsx("p",{className:"text-sm text-red-500",children:o("image-required")})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(w,{type:"button",variant:"outline",onClick:t,disabled:d.isSubmitting,children:o("cancel")}),e.jsxs(w,{type:"submit",disabled:d.isSubmitting,children:[d.isSubmitting&&e.jsx(Ie,{className:"mr-2 h-4 w-4 animate-spin"}),o(s?"update":"create")]})]})]})]})})}function xt({store:n,categories:t=[],meals:a=[],stats:r,country:s,attributes:o=[]}){const{t:i,i18n:c}=re(),[h,p]=l.useState("overview"),m=c.language==="ar",[f,g]=l.useState(!1),[d,_]=l.useState(!1),[N,u]=l.useState(),[x,v]=l.useState(),b=j=>{confirm(i("confirm-delete-category"))&&k.delete(route("store.category.delete",j))},y=j=>{confirm(i("confirm-delete-meal"))&&k.delete(route("store.meal.delete",j))};return e.jsxs(e.Fragment,{children:[e.jsx(sn,{title:i("restaurant-dashboard")}),e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i("restaurant-dashboard")})}),e.jsx("div",{children:e.jsx("h3",{className:"text-primary",children:n==null?void 0:n.name})}),e.jsxs(ce,{href:route("logout"),method:"post",as:"button",className:"bg-red-600 hover:bg-red-700 text-white p-2 rounded-sm flex items-center",children:[e.jsx(rn,{className:"w-4 h-4 mr-2"}),i("logout")]})]})})}),e.jsx(ce,{href:route("store.home",{store:n==null?void 0:n.id,table:1}),children:"home "}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs(zn,{value:h,onValueChange:p,className:"space-y-6",children:[e.jsxs(Qe,{className:"grid w-full grid-cols-4 lg:w-auto lg:inline-grid",children:[e.jsxs(B,{value:"overview",className:"flex items-center gap-2",children:[e.jsx(cn,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:i("dashboard")})]}),e.jsxs(B,{value:"categories",className:"flex items-center gap-2",children:[e.jsx(xe,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:i("categories")})]}),e.jsxs(B,{value:"meals",className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:i("meals")})]}),e.jsxs(B,{value:"orders",className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:i("orders")})]})]}),e.jsxs(U,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(I,{children:[e.jsxs(E,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(F,{className:"text-sm font-medium",children:i("total-categories")}),e.jsx(xe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(T,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.totalCategories}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["+2 ",i("from")," last month"]})]})]}),e.jsxs(I,{children:[e.jsxs(E,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(F,{className:"text-sm font-medium",children:i("total-meals")}),e.jsx(X,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(T,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.totalMeals}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["+8 ",i("from")," last month"]})]})]}),e.jsxs(I,{children:[e.jsxs(E,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(F,{className:"text-sm font-medium",children:i("total-orders")}),e.jsx(dn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(T,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.totalOrders}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["+12% ",i("from")," last month"]})]})]}),e.jsxs(I,{children:[e.jsxs(E,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(F,{className:"text-sm font-medium",children:i("total-revenue")}),e.jsx(mn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(T,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r.totalRevenue}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["+18% ",i("from")," last month"]})]})]})]}),e.jsxs(I,{children:[e.jsxs(E,{children:[e.jsx(F,{children:i("quick-actions")}),e.jsx(K,{children:"Manage your restaurant content"})]}),e.jsxs(T,{className:"grid gap-4 md:grid-cols-2",children:[e.jsx(w,{className:"w-full h-20",onClick:()=>p("categories"),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($,{className:"w-5 h-5"}),e.jsx("span",{children:i("add-new-category")})]})}),e.jsx(w,{className:"w-full h-20",onClick:()=>p("meals"),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($,{className:"w-5 h-5"}),e.jsx("span",{children:i("add-new-meal")})]})})]})]})]}),e.jsx(U,{value:"categories",children:e.jsxs(I,{children:[e.jsx(E,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(F,{children:i("manage-categories")}),e.jsx(K,{children:i("manage-categories-desc")})]}),e.jsxs(w,{onClick:()=>{u(void 0),g(!0)},children:[e.jsx($,{className:"w-4 h-4 mr-2"}),i("add-category")]})]})}),e.jsx(T,{children:t.length===0?e.jsx("div",{className:"text-center py-12 text-gray-500",children:i("no-categories")}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(j=>e.jsx(I,{children:e.jsx(T,{className:"p-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("img",{src:j.image,alt:m?j.name_ar:j.name_en,className:"w-20 h-20 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg",children:m?j.name_ar:j.name_en}),e.jsxs("p",{className:"text-sm text-gray-500",children:[j.meals_count||0," ",i("meals")]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx(w,{size:"sm",variant:"outline",onClick:()=>{u(j),g(!0)},children:e.jsx(fe,{className:"w-3 h-3"})}),e.jsx(w,{size:"sm",variant:"destructive",onClick:()=>b(j.id),children:e.jsx(he,{className:"w-3 h-3"})})]})]})]})})},j.id))})})]})}),e.jsx(U,{value:"meals",children:e.jsxs(I,{children:[e.jsx(E,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(F,{children:i("manage-meals")}),e.jsx(K,{children:i("manage-meals-desc")})]}),e.jsxs(w,{onClick:()=>{v(void 0),_(!0)},children:[e.jsx($,{className:"w-4 h-4 mr-2"}),i("add-meal")]})]})}),e.jsx(T,{children:a.length===0?e.jsx("div",{className:"text-center py-12 text-gray-500",children:i("no-meals")}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.map(j=>e.jsx(I,{children:e.jsxs(T,{className:"p-4",children:[e.jsx("img",{src:j.image,alt:m?j.name_ar:j.name_en,className:"w-full h-40 object-cover rounded-lg mb-3"}),e.jsx("h3",{className:"font-semibold text-lg",children:m?j.name_ar:j.name_en}),e.jsx("p",{className:"text-sm text-gray-500",children:m?j.category.name_ar:j.category.name_en}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("div",{children:j.sale_price?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-lg font-bold text-green-600",children:[c.language==="ar"?s.currency_ar:s.currency_en," ",j.sale_price]}),e.jsxs("span",{className:"text-sm text-gray-400 line-through",children:[c.language==="ar"?s.currency_ar:s.currency_en," ",j.price]})]}):e.jsxs("span",{className:"text-lg font-bold",children:[c.language==="ar"?s.currency_ar:s.currency_en," ",j.price]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(w,{size:"sm",variant:"outline",onClick:()=>{v(j),_(!0)},children:e.jsx(fe,{className:"w-3 h-3"})}),e.jsx(w,{size:"sm",variant:"destructive",onClick:()=>y(j.id),children:e.jsx(he,{className:"w-3 h-3"})})]})]})]})},j.id))})})]})}),e.jsx(U,{value:"orders",children:e.jsx(I,{children:e.jsx(E,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(F,{children:i("manage-meals")}),e.jsx(K,{children:i("manage-meals-desc")})]}),e.jsxs(w,{onClick:()=>{v(void 0),_(!0)},children:[e.jsx($,{className:"w-4 h-4 mr-2"}),i("add-meal")]})]})})})})]})})]}),e.jsx(Yn,{open:f,onClose:()=>{g(!1),u(void 0)},category:N}),e.jsx(Zn,{open:d,onClose:()=>{_(!1),v(void 0)},categories:t,attributes:o,meal:x})]})}export{xt as default};
